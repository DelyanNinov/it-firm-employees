<section class="form"> 
    <form style= "min-width: 300px" [formGroup]="form" fxLayout="column" fxLayout.xs="column" fxLayoutGap="20px" fxLayoutAlign="center center"  (ngSubmit)="onSubmit()">
      
      <mat-form-field fxFlex="1">
          <input type="text" matInput placeholder="Име и фамилия" [matAutocomplete]="auto" formControlName="nameSearch"/>
          <mat-autocomplete #auto="matAutocomplete" >
          <mat-option *ngFor="let name of filteredOptions  | async" [value]="name">
            {{name}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field >
        <mat-label>Считано от</mat-label>
        <input matInput [matDatepicker]="startDate" formControlName="startDate">
        <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
        <mat-datepicker #startDate></mat-datepicker>
      </mat-form-field>

      <mat-form-field >
        <mat-label>До</mat-label>
        <input matInput [matDatepicker]="endDate" formControlName="endDate">
        <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
        <mat-datepicker #endDate></mat-datepicker>
      </mat-form-field>

      <mat-form-field>
        <input 
         type="email" 
         matInput 
         name="email" 
         formControlName="email"
         placeholder="Имейл">
         <mat-error *ngIf="email?.errors?.['required']">Полето е задължително</mat-error>
         <mat-error *ngIf="email?.errors?.['email']">Имейлът е невалиден</mat-error>
     </mat-form-field>
     <mat-form-field>
      <mat-label>Съобщение</mat-label>
      <textarea formControlName="message" style ="min-height: 100px;" matInput placeholder="Моля, напишете съобщение..."></textarea>
      <mat-error *ngIf="message?.errors?.['required']">Полето е задължително</mat-error>
    </mat-form-field>
    <button type="submit" mat-raised-button color="primary" [disabled] = "!form.valid">Изпрати</button>
    </form>
  </section>
